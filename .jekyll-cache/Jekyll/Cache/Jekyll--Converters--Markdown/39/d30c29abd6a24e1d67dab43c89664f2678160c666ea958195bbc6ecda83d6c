I"Š2<p>First of all you need to install Deep Learning Studio. If you havenâ€™t completed that step, please go to the <a href="/install/">installation section</a>.</p>

<p>We additionally have some implemented algorithms that you can use in Deep Learning Studio. Find them in the <a href="/quick_start/algorithms_zoo/">algorithms zoo</a>.</p>

<p>If youâ€™d like to train your own brain, we provide you with the <a href="/quick_start/datasets">datasets</a>.</p>

<p>This repository contains the deep learning regression and classification models for all robots used in the JdeRobot community.</p>

<h2 id="structure-of-the-branch">Structure of the branch</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>â”œâ”€â”€ Formula1-FollowLine
|   |
|   |â”€â”€ pytorch
|   |   |â”€â”€ PilotNet                                # Pilot Net pytorch implementation
|   |   |   â”œâ”€â”€ scripts                             # scripts for running experiments 
|   |   |   â”œâ”€â”€ utils                               
|   |   |   |   â”œâ”€â”€ pilot_net_dataset.py            # Torchvision custom dataset
|   |   |   |   â”œâ”€â”€ pilotnet.py                     # CNN for PilotNet
|   |   |   |   â”œâ”€â”€ transform_helpers.py            # Data Augmentation
|   |   |   |   â””â”€â”€ processing.py                   # Data collecting, processing and utilities
|   |   |   â””â”€â”€ train.py                            # training code
|   |   |
|   |   â””â”€â”€ PilotNetStacked                         # Pilot Net Stacked Image implementation
|   |       â”œâ”€â”€ scripts                             # scripts for running experiments 
|   |       â”œâ”€â”€ utils                               
|   |       |   â”œâ”€â”€ pilot_net_dataset.py            # Sequentially stacked image dataset
|   |       |   â”œâ”€â”€ pilotnet.py                     # Modified Hyperparams 
|   |       |   â”œâ”€â”€ transform_helpers.py            # Data Augmentation
|   |       |   â””â”€â”€ processing.py                   # Data collecting, processing and utilities
|   |       â””â”€â”€ train.py                            # training code
|   |
|   +â”€â”€ tensoflow
|       +â”€â”€ PilotNet                                # Pilot Net tensorflow implementation
|           â”œâ”€â”€ utils                               
|           |   â”œâ”€â”€ dataset.py                      # Custom dataset
|           |   â”œâ”€â”€ pilotnet.py                     # CNN for PilotNet
|           |   â””â”€â”€ processing.py                   # Data collecting, processing and utilities
|           â””â”€â”€ train.py                            # training code
+â”€â”€ Drone-FollowLine
    |
    +â”€â”€ DeepPilot                               # DeepPilot CNN pytorch implementation
        â”œâ”€â”€ scripts                             # scripts for running experiments 
        â”œâ”€â”€ utils                               
        |   â”œâ”€â”€ pilot_net_dataset.py            # Torchvision custom dataset
        |   â”œâ”€â”€ pilotnet.py                     # CNN for DeepPilot
        |   â”œâ”€â”€ transform_helpers.py            # Data Augmentation
        |   â””â”€â”€ processing.py                   # Data collecting, processing and utilities
        â””â”€â”€ train.py                            # training code
</code></pre></div></div>

<h2 id="how-to-use">How to use</h2>

<p>First of all <strong>if you are going to use the GUI</strong> you need to create the resources file for the application. <strong>YOU JUST HAVE TO DO THIS STEP THE FIRST TIME YOU RUN THE APPLICATION</strong></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pyrcc5 <span class="nt">-o</span> ui/gui/resources/resources.py ui/gui/resources/resources.qrc
</code></pre></div></div>

<p>To launch the application just run the python script as follows:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python driver.py <span class="nt">-c</span> ./configs/default.yml <span class="nt">-g</span>
</code></pre></div></div>

<p>This command will launch the application with the default configuration:</p>

<ul>
  <li>Simulated world of a F1 car inside a circuit</li>
  <li>Sensors: RGB camera and odometry</li>
  <li>Actuators: Motors</li>
  <li>Explicit brain based on OpenCV image processing.</li>
</ul>

<p>The program allows the following arguments:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">-c &lt;profile&gt;</code> or <code class="language-plaintext highlighter-rouge">--config &lt;profile&gt;</code>: this argument is mandatory and specifies the path of the configuration file for the application.</li>
  <li><code class="language-plaintext highlighter-rouge">-g</code> or <code class="language-plaintext highlighter-rouge">--gui</code>: this argument is optional and enables the GUI launching. If not specified, it will show the TUI (terminal user interface).</li>
  <li><code class="language-plaintext highlighter-rouge">-t</code> or <code class="language-plaintext highlighter-rouge">--tui</code>: this argument is optional and enables the TUI.</li>
  <li><code class="language-plaintext highlighter-rouge">-s</code> or <code class="language-plaintext highlighter-rouge">--script</code>: this argument is optional and enables the scriptable application.</li>
  <li><code class="language-plaintext highlighter-rouge">-r</code> or <code class="language-plaintext highlighter-rouge">--random</code>: this argument is optional and enables initialization of the Formula-1 car at random positions on the circuit with random orientation.</li>
</ul>

<p>For more information run <code class="language-plaintext highlighter-rouge">help driver.py</code> in a terminal.</p>

<h3 id="building-your-configuration-file">Building your configuration file</h3>

<p>If you want to create your own <strong>configuration file</strong> for the application (changing the robot, brain, layout, etc) you can either use the desktop GUI or creating a yml file with your own configuration. The default profile looks like this (<strong>Make sure you respect the indentation</strong>):</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">Behaviors</span><span class="pi">:</span>
    <span class="na">Robot</span><span class="pi">:</span>
        <span class="na">Sensors</span><span class="pi">:</span>
            <span class="na">Cameras</span><span class="pi">:</span>
                <span class="na">Camera_0</span><span class="pi">:</span>
                    <span class="na">Name</span><span class="pi">:</span> <span class="s1">'</span><span class="s">camera_0'</span>
                    <span class="na">Topic</span><span class="pi">:</span> <span class="s1">'</span><span class="s">/F1ROS/cameraL/image_raw'</span>
            <span class="na">Pose3D</span><span class="pi">:</span>
                <span class="na">Pose3D_0</span><span class="pi">:</span>
                    <span class="na">Name</span><span class="pi">:</span> <span class="s1">'</span><span class="s">pose3d_0'</span>
                    <span class="na">Topic</span><span class="pi">:</span> <span class="s1">'</span><span class="s">/F1ROS/odom'</span>
        <span class="na">Actuators</span><span class="pi">:</span>
            <span class="na">Motors</span><span class="pi">:</span>
                <span class="na">Motors_0</span><span class="pi">:</span>
                    <span class="na">Name</span><span class="pi">:</span> <span class="s1">'</span><span class="s">motors_0'</span>
                    <span class="na">Topic</span><span class="pi">:</span> <span class="s1">'</span><span class="s">/F1ROS/cmd_vel'</span>
                    <span class="na">MaxV</span><span class="pi">:</span> <span class="m">3</span>
                    <span class="na">MaxW</span><span class="pi">:</span> <span class="m">0.3</span>
        <span class="na">BrainPath</span><span class="pi">:</span> <span class="s1">'</span><span class="s">brains/f1/brain_f1_opencv2.py'</span>
        <span class="na">Type</span><span class="pi">:</span> <span class="s1">'</span><span class="s">f1'</span>
    <span class="na">Simulation</span><span class="pi">:</span>
        <span class="na">World</span><span class="pi">:</span> <span class="s">/opt/jderobot/share/jderobot/gazebo/launch/f1_1_simplecircuit.launch</span>
    <span class="na">Dataset</span><span class="pi">:</span>
        <span class="na">In</span><span class="pi">:</span> <span class="s1">'</span><span class="s">/tmp/my_bag.bag'</span>
        <span class="na">Out</span><span class="pi">:</span> <span class="s1">'</span><span class="s">'</span>
    <span class="na">Layout</span><span class="pi">:</span>
        <span class="na">Frame_0</span><span class="pi">:</span>
            <span class="na">Name</span><span class="pi">:</span> <span class="s">frame_0</span>
            <span class="na">Geometry</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">1</span><span class="pi">,</span> <span class="nv">1</span><span class="pi">,</span> <span class="nv">2</span><span class="pi">,</span> <span class="nv">2</span><span class="pi">]</span>
            <span class="na">Data</span><span class="pi">:</span> <span class="s">rgbimage</span>
        <span class="na">Frame_1</span><span class="pi">:</span>
            <span class="na">Name</span><span class="pi">:</span> <span class="s">frame_1</span>
            <span class="na">Geometry</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">0</span><span class="pi">,</span> <span class="nv">1</span><span class="pi">,</span> <span class="nv">1</span><span class="pi">,</span> <span class="nv">1</span><span class="pi">]</span>
            <span class="na">Data</span><span class="pi">:</span> <span class="s">rgbimage</span>
        <span class="na">Frame_2</span><span class="pi">:</span>
            <span class="na">Name</span><span class="pi">:</span> <span class="s">frame_2</span>
            <span class="na">Geometry</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">0</span><span class="pi">,</span> <span class="nv">2</span><span class="pi">,</span> <span class="nv">1</span><span class="pi">,</span> <span class="nv">1</span><span class="pi">]</span>
            <span class="na">Data</span><span class="pi">:</span> <span class="s">rgbimage</span>
        <span class="na">Frame_3</span><span class="pi">:</span>
            <span class="na">Name</span><span class="pi">:</span> <span class="s">frame_3</span>
            <span class="na">Geometry</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">0</span><span class="pi">,</span> <span class="nv">3</span><span class="pi">,</span> <span class="nv">3</span><span class="pi">,</span> <span class="nv">1</span><span class="pi">]</span>
            <span class="na">Data</span><span class="pi">:</span> <span class="s">rgbimage</span>
</code></pre></div></div>

<h2 id="references">References</h2>

<ol>
  <li>Bojarski, Mariusz, Davide Del Testa, Daniel Dworakowski, Bernhard Firner, Beat Flepp, Prasoon Goyal, Lawrence D. Jackel et al. â€œEnd to end learning for self-driving cars.â€ arXiv preprint arXiv:1604.07316 (2016). <a href="https://arxiv.org/abs/1604.07316">https://arxiv.org/abs/1604.07316</a></li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@article{bojarski2016end,
  title={End to end learning for self-driving cars},
  author={Bojarski, Mariusz and Del Testa, Davide and Dworakowski, Daniel and Firner, Bernhard and Flepp, Beat and Goyal, Prasoon and Jackel, Lawrence D and Monfort, Mathew and Muller, Urs and Zhang, Jiakai and others},
  journal={arXiv preprint arXiv:1604.07316},
  year={2016}
}

@article{bojarski2017explaining,
  title={Explaining how a deep neural network trained with end-to-end learning steers a car},
  author={Bojarski, Mariusz and Yeres, Philip and Choromanska, Anna and Choromanski, Krzysztof and Firner, Bernhard and Jackel, Lawrence and Muller, Urs},
  journal={arXiv preprint arXiv:1704.07911},
  year={2017}
}
</code></pre></div></div>

<ol>
  <li>Rojas-Perez, L.O., &amp; Martinez-Carranza, J. (2020). DeepPilot: A CNN for Autonomous Drone Racing. Sensors, 20(16), 4524. <a href="https://doi.org/10.3390/s20164524">https://doi.org/10.3390/s20164524</a></li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@article{rojas2020deeppilot,
  title={DeepPilot: A CNN for Autonomous Drone Racing},
  author={Rojas-Perez, Leticia Oyuki and Martinez-Carranza, Jose},
  journal={Sensors},
  volume={20},
  number={16},
  pages={4524},
  year={2020},
  publisher={Multidisciplinary Digital Publishing Institute}
}
</code></pre></div></div>
:ET